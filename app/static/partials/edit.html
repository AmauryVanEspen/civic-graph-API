<h3>Add Information</h3>
<form class='edit-form' novalidate>
    <input type='text' class='form-control' ng-model='editEntity.name' placeholder='Name'>
    <input type='text' class='form-control' ng-model='editEntity.nickname' placeholder='Nickname'>
    <div>Locations:
        <input type='text' class='form-control' ng-repeat='location in editEntity.locations' ng-model="location.location" typeahead='address for address in addressSearch($viewValue)' typeahead-editable='false' ng-change='addLocation(editEntity.locations)' placeholder='Location'>
    </div>
    Circle of Influence:
    <div class='radio' ng-repeat='influenceType in influenceTypes'><label><input type='radio' data-ng-model='editEntity.influence' value='{{influenceType}}'>{{influenceType}}</label></div>
    What type of entity?
    <div class='radio' ng-repeat='type in entityTypes'><label><input type='radio' data-ng-model='editEntity.type' value='{{type.name}}'>{{type.name}}</label></div>
    What kind of work do they do?
    <div class='checkbox' ng-repeat='category in editCategories'><label><input type='checkbox' ng-model='category.enabled'>{{category.name}}</label></div>
    <input type='url' class='form-control' ng-model='editEntity.url' placeholder='Website'>
    <input type='text' class='form-control' ng-model='editEntity.twitter_handle' placeholder='@Twitter'>
    <div>Number of Employees <input type='number' class='form-control' ng-model='editEntity.employees'></div>
    <div>Key Civic People?
        <input type='text' class='form-control' ng-repeat='person in editEntity.key_people' ng-model='person.name' placeholder='Name' ng-change='addKeyPerson()'>
    </div>
    <div>Collaboration
        <input type='text' class='form-control' ng-repeat='collaboration in editEntity.collaborations' ng-model='collaboration.entity' typeahead='entity.name as entity.name for entity in entities | filter:{name: $viewValue} | limitTo:8' typeahead-on-select="setConnection($item, collaboration, 'collaborations')" ng-change='addConnection(editEntity.collaborations)' placeholder='Collaborator'>
    </div>
    <div>Who provides them with data?
        <input type='text' class='form-control' ng-repeat='data in editEntity.data' ng-model='data.entity' typeahead='entity.name as entity.name for entity in entities | filter:{name: $viewValue} | limitTo:8' typeahead-on-select="setConnection($item, data, 'data')" ng-change='addConnection(editEntity.data)' placeholder='Data Resource'>
    </div>
    <div>Who funds them via grants?
        <div ng-repeat='funding in editEntity.funding_received'>
            <input type='text' ng-model='funding.entity' typeahead='entity.name as entity.name for entity in entities | filter:{name: $viewValue} | limitTo:8' typeahead-on-select="setFinanceConnection($item, funding, 'funding_given')" ng-change='addFinanceConnection(editEntity.funding_received)' typeahead-editable='false' placeholder='Funder'>
            <div class='input-group'>
            <span class="input-group-addon">$</span>
            <input type='number' class='form-control' ng-model='funding.amount' placeholder='Amount'>
            </div>
            <input type='number' class='form-control' ng-model='funding.year' placeholder='Year'>
        </div>
    </div>
    <div>Who invests in them via equity stakes (stock)?
        <div ng-repeat='investment in editEntity.investments_received'>
            <input type='text' ng-model='investment.entity' typeahead='entity.name as entity.name for entity in entities | filter:{name: $viewValue} | limitTo:8' typeahead-on-select="setFinanceConnection($item, investment, 'investments_made')" ng-change='addFinanceConnection(editEntity.investments_received)' typeahead-editable='false' placeholder='Investor'>
            <div class='input-group'>
            <span class="input-group-addon">$</span>
            <input type='number' class='form-control' ng-model='investment.amount' placeholder='Amount'>
            </div>
            <input type='number' class='form-control' ng-model='investment.year' placeholder='Year'>
        </div>
    </div>
    <div>Who do they fund via grants?
        <div ng-repeat='funding in editEntity.funding_given'>
            <input type='text' ng-model='funding.entity' typeahead='entity.name as entity.name for entity in entities | filter:{name: $viewValue} | limitTo:8' typeahead-on-select="setFinanceConnection($item, funding, 'funding_received')" ng-change='addFinanceConnection(editEntity.funding_given)' typeahead-editable='false' placeholder='Fundee'>
            <div class='input-group'>
            <span class="input-group-addon">$</span>
            <input type='number' class='form-control' ng-model='funding.amount' placeholder='Amount'>
            </div>
            <input type='number' class='form-control' ng-model='funding.year' placeholder='Year'>
        </div>
    </div>
    <div>Who do they invest in via equity stakes (stock)?
        <div ng-repeat='investment in editEntity.investments_made'>
            <input type='text' ng-model='investment.entity' typeahead='entity.name as entity.name for entity in entities | filter:{name: $viewValue} | limitTo:8' typeahead-on-select="setFinanceConnection($item, investment, 'investments_received')" ng-change='addFinanceConnection(editEntity.investments_made)' typeahead-editable='false' placeholder='Investee'>
            <div class='input-group'>
            <span class="input-group-addon">$</span>
            <input type='number' class='form-control' ng-model='investment.amount' placeholder='Amount'>
            </div>
            <input type='number' class='form-control' ng-model='investment.year' placeholder='Year'>
        </div>
    </div>
    <div>Revenue
        <div ng-repeat='revenue in editEntity.revenues'>
            <div class='input-group'>
            <span class="input-group-addon">$</span>
            <input type='number' class='form-control' ng-model='revenue.amount' placeholder='Amount' ng-change='addFinance(editEntity.revenues)'>
            </div>
            <input type='number' class='form-control' ng-model='revenue.year' placeholder='Year' ng-change='addFinance(editEntity.revenues)'>
        </div>
    </div>
    <div>Expenses
        <div ng-repeat='expense in editEntity.expenses'>
            <div class='input-group'>
            <span class="input-group-addon">$</span>
            <input type='number' class='form-control' ng-model='expense.amount' placeholder='Amount' ng-change='addFinance(editEntity.expenses)'>
            </div>
            <input type='number' class='form-control' ng-model='expense.year' placeholder='Year' ng-change='addFinance(editEntity.expenses)'>
        </div>
    </div>
</form>

<button class='btn btn-default' ng-click='save()'>Save</button>